<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editable Calendar with Modals</title>
<style>
    /* Basic styling for the calendar */
    body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }
    .calendar-container {
        width: 300px;
        text-align: center;
    }
    .dropdown {
        margin-bottom: 10px;
    }
    .calendar {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 5px;
    }
    .day {
        padding: 15px;
        background-color: #f0f0f0;
        cursor: pointer;
        border-radius: 5px;
        position: relative;
    }
    .day:hover {
        background-color: #ddd;
    }
    .note-preview {
        margin-top: 5px;
        font-size: 12px;
        color: #555;
        word-wrap: break-word;
    }
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
    }
    .modal-content {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        max-width: 300px;
        text-align: center;
    }
    .close-btn, .save-btn {
        margin-top: 10px;
        padding: 5px 10px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .save-btn {
        background-color: #28a745;
    }
</style>
</head>
<body>

<div class="calendar-container">
    <select id="monthDropdown" class="dropdown">
        <option value="0">January</option>
        <option value="1">February</option>
        <option value="2">March</option>
        <option value="3">April</option>
        <option value="4">May</option>
        <option value="5">June</option>
        <option value="6">July</option>
        <option value="7">August</option>
        <option value="8">September</option>
        <option value="9">October</option>
        <option value="10">November</option>
        <option value="11">December</option>
    </select>

    <div id="calendar" class="calendar"></div>
</div>

<!-- Modal Structure -->
<div id="modal" class="modal">
    <div class="modal-content">
        <h2 id="modalTitle">Date Information</h2>
        <textarea id="modalInput" placeholder="Enter notes for this day..."></textarea>
        <button class="save-btn" onclick="saveNotes()">Save</button>
        <button class="close-btn" onclick="closeModal()">Close</button>
    </div>
</div>

<script>
    const calendarElement = document.getElementById('calendar');
    const monthDropdown = document.getElementById('monthDropdown');
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalInput = document.getElementById('modalInput');
    
    let selectedDate = null;

    function generateCalendar(month) {
        calendarElement.innerHTML = '';
        const daysInMonth = new Date(2024, month + 1, 0).getDate();

        for (let day = 1; day <= daysInMonth; day++) {
            const dayElement = document.createElement('div');
            dayElement.classList.add('day');
            dayElement.textContent = day;

            // Add note preview if exists
            const dateKey = `${month}-${day}`;
            const note = localStorage.getItem(dateKey);
            if (note) {
                const notePreview = document.createElement('div');
                notePreview.classList.add('note-preview');
                notePreview.textContent = note;
                dayElement.appendChild(notePreview);
            }

            dayElement.onclick = () => openModal(day, month);
            calendarElement.appendChild(dayElement);
        }
    }

    function openModal(day, month) {
        selectedDate = `${month}-${day}`;
        modal.style.display = 'flex';
        modalTitle.textContent = `Notes for ${monthDropdown.options[month].text} ${day}`;
        modalInput.value = localStorage.getItem(selectedDate) || '';
    }

    function closeModal() {
        modal.style.display = 'none';
    }

    function saveNotes() {
        if (selectedDate) {
            localStorage.setItem(selectedDate, modalInput.value);
            closeModal();
            generateCalendar(parseInt(monthDropdown.value)); // Refresh calendar to show updated notes
            alert('Notes saved!');
        }
    }

    monthDropdown.onchange = function () {
        generateCalendar(parseInt(this.value));
    };

    window.onclick = function(event) {
        if (event.target === modal) {
            closeModal();
        }
    };

    // Initialize with current month
    generateCalendar(new Date().getMonth());
    monthDropdown.value = new Date().getMonth();
</script>

</body>
</html>
